import { Injectable } from '@nestjs/common';
import { PrismaClient } from '@/database/prisma/client';
import { Count<%= props.table.pascalCasePluralName %>DTO } from '@/dtos/<%= props.table.kebabCasePluralName %>/count-<%= props.table.kebabCasePluralName %>.dto';
import { IBaseRepository } from '@stokei/common';

@Injectable()
export class Count<%= props.table.pascalCasePluralName %>Repository
  implements IBaseRepository<Count<%= props.table.pascalCasePluralName %>DTO, Promise<number>>
{
  constructor(private readonly model: PrismaClient) {}

  async execute(data: Count<%= props.table.pascalCasePluralName %>DTO): Promise<number> {
    return await this.model.<%= props.table.camelCasePluralName %>.count({ where: data });
  }
}
